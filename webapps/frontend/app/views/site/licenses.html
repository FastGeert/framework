<!--
Copyright (C) 2016 iNuron NV

This file is part of Open vStorage Open Source Edition (OSE),
as available from

      http://www.openvstorage.org and
      http://www.openvstorage.com.

This file is free software; you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License v3 (GNU AGPLv3)
as published by the Free Software Foundation, in version 3 as it comes
in the LICENSE.txt file of the Open vStorage OSE distribution.

Open vStorage is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY of any kind.
-->
<section>
    <div>
        <h2 class="pull-left" data-i18n="ovs:licenses.title"></h2>
        <button class="btn btn-default pull-right" id="buttonAddLicense"
                data-bind="click: addLicense, enable: $.inArray('manage', $root.shared.user.roles()) !== -1"
                style="margin-top: 20px; margin-bottom: 10px;">
            <span class="fa" data-i18n="[html]ovs:icons.add"></span>&nbsp;
            <span data-i18n="ovs:licenses.add"></span>
        </button>
    </div>
    <div data-bind="pager: { container: licenses, loadData: loadLicenses, headers: licenseHeaders, refreshInterval: 5000, controls: true }" style="clear: both;">
        <table data-dummy="dummy">
            <tr data-part="vitem">
                <td>
                    <span data-bind="translate: (component() + ':licensing.component')"></span>
                </td>
                <td>
                    <span data-bind="text: name()"></span>
                </td>
                <td>
                    <!-- ko foreach: $root.generic.keys(data(), function(k) { return k !== 'token'; }) -->
                        <span data-bind="if: $index() > 0">-</span>
                        <span data-bind="translate: ($parent.component() + ':licensing.metadata.' + $data)"></span>: <span data-bind="html: $parent.data()[$data] !== null ? $parent.data()[$data] : '<i>Unltd.</i>'"></span>
                    <!-- /ko -->
                </td>
            </tr>
        </table>
    </div>
</section>
